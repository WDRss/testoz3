/dts-v1/;
/plugin/;
/ {
    compatible = "allwinner,sun50i-h616";
    fragment@0 {
        target = <&spi1>;
        __overlay__ {
            status = "okay";
	    cs-gpios = <&pio 7 5 0>,<&pio 2 15 0>; /*PH5=CS0 for lcd, PC15=CS1 for touch*/
            ili9341: ili9341@0 {
                compatible = "ilitek,ili9341";
                reg = <0>;
                pinctrl-names = "default";
                spi-max-frequency = <24000000>;
                rotation = <270>;
                bgr = <0>;
                fps = <30>;
                buswidth = <8>;
                reset-gpios = <&pio 2 14 0>; /* PC14 */
                dc-gpios = <&pio 2 6 0>; /* PC6 */
                debug = <3>;
		init = <0x10000b0 0x00 // Interface Mode Control
			0x1000011 // Sleep Out
        		0x20000ff // Delay 255ms
        		0x100003a 0x55 // Pixel Format (55h = 16 bits/pixel)
        		0x1000036 0x48 // Memory Access Control (ajustar para orientação correta)
        		0x10000c2 0x44 // Power Control 3
        		0x10000c5 0x00 0x00 0x00 0x00 // VCOM Control 1
        		0x10000e0 0x0f 0x31 0x2b 0x0c 0x0e 0x08 0x4e 0xf1 0x37 0x07 0x10 0x03 0x0e 0x09 0x00 // Gamma Correction
        		0x10000e1 0x00 0x0e 0x14 0x03 0x11 0x07 0x31 0xc1 0x48 0x08 0x0f 0x0c 0x31 0x36 0x0f // Frame Rate Control
        		0x10000b1 0x00 0x1F  // 30Hz
        		0x10000b6 0x0A 0x82 0x27 0x00 // Display Function Control        
        		0x1000011 // Exit Sleep Mode
        		0x20000ff // Delay 255ms
        		0x1000029 // Display ON
        		0x20000ff>;  // Delay 255ms
	    };
        };
    };
};
